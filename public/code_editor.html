<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SnehTech Terminal Code Editor</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/theme/monokai.min.css">
  <style>
    * {
      box-sizing: border-box;
    }
    .navbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.8rem 2rem;
  background: #121212;
  border-bottom: 2px solid #00ff41;
}

.nav-logo {
  font-size: 1.5rem;
  color: #00ff41;
  text-decoration: none;
  font-weight: bold;
  text-shadow: 0 0 8px #00ff41;
}

.nav-right {
  display: flex;
  gap: 1rem;
}

.nav-link {
  color: #f1bbdf;
  text-decoration: none;
  font-weight: bold;
  padding: 0.5rem 1rem;
  border: 1px solid transparent;
  border-radius: 6px;
  transition: all 0.3s ease;
}

.nav-link:hover {
  background-color: #1a1a1a;
  border-color: #f078a0;
  box-shadow: 0 0 6px rgba(0, 255, 65, 0.3);
}

    body {
      margin: 0;
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
      background: linear-gradient(135deg, #0c0c0c 0%, #1a1a1a 100%);
      color: #00ff00;
      display: flex;
      flex-direction: column;
      height: 100vh;
      overflow: hidden;
    }
    
    header {
      background: linear-gradient(90deg, #1a1a1a, #2d2d2d);
      padding: 1rem 2rem;
      text-align: center;
      font-size: 1.8rem;
      font-weight: bold;
      color: #00ff41;
      border-bottom: 2px solid #00ff41;
      text-shadow: 0 0 10px #00ff41;
      position: relative;
    }
    
    header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: repeating-linear-gradient(
        90deg,
        transparent,
        transparent 2px,
        rgba(0, 255, 65, 0.03) 2px,
        rgba(0, 255, 65, 0.03) 4px
      );
    }
    
    .container {
      flex: 1;
      display: flex;
      height: calc(100vh - 100px);
    }
    
    .left-panel {
      width: 60%;
      display: flex;
      flex-direction: column;
      border-right: 2px solid #333;
    }
    
    .right-panel {
      width: 40%;
      display: flex;
      flex-direction: column;
      background: #0a0a0a;
    }
    
    .controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem;
      background: #1a1a1a;
      border-bottom: 1px solid #333;
      flex-wrap: wrap;
      gap: 1rem;
    }
    
    select {
      padding: 0.7rem 1rem;
      background: #2d2d2d;
      color: #00ff41;
      border: 2px solid #00ff41;
      border-radius: 8px;
      cursor: pointer;
      font-family: inherit;
      font-size: 0.9rem;
      transition: all 0.3s ease;
    }
    
    select:hover, select:focus {
      background: #3d3d3d;
      box-shadow: 0 0 10px rgba(0, 255, 65, 0.3);
      outline: none;
    }
    
    .button-group {
      display: flex;
      gap: 0.5rem;
    }
    
    button {
      padding: 0.7rem 1.2rem;
      background: linear-gradient(45deg, #2d2d2d, #3d3d3d);
      color: #00ff41;
      border: 2px solid #00ff41;
      border-radius: 8px;
      cursor: pointer;
      font-family: inherit;
      font-weight: bold;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    button:hover {
      background: linear-gradient(45deg, #3d3d3d, #4d4d4d);
      box-shadow: 0 0 15px rgba(0, 255, 65, 0.4);
      transform: translateY(-2px);
    }
    
    button:active {
      transform: translateY(0);
    }
    
    #run-btn {
      background: linear-gradient(45deg, #004d00, #006600);
      border-color: #00ff41;
    }
    
    #run-btn:hover {
      background: linear-gradient(45deg, #006600, #008800);
    }
    
    .editor-container {
      flex: 1;
      border: 2px solid #333;
      margin: 0;
    }
    
    .CodeMirror {
      height: 100%;
      font-size: 14px;
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
    }
    
    .terminal-section {
      padding: 1rem;
      background: #0a0a0a;
      border-bottom: 1px solid #333;
    }
    
    .terminal-section h3 {
      margin: 0 0 0.5rem 0;
      color: #00ff41;
      font-size: 1rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .terminal-section h3::before {
      content: '>';
      color: #ff6b00;
      font-weight: bold;
    }
    
    #input-area {
      background: #1a1a1a;
      color: #00ff41;
      border: 2px solid #333;
      border-radius: 8px;
      padding: 0.8rem;
      font-family: inherit;
      font-size: 14px;
      resize: vertical;
      min-height: 80px;
      width: 100%;
      transition: border-color 0.3s ease;
    }
    
    #input-area:focus {
      outline: none;
      border-color: #00ff41;
      box-shadow: 0 0 10px rgba(0, 255, 65, 0.2);
    }
    
    #terminal-output {
      flex: 1;
      background: #000;
      color: #00ff41;
      padding: 1rem;
      font-family: inherit;
      font-size: 14px;
      white-space: pre-wrap;
      overflow-y: auto;
      border: 2px solid #333;
      margin: 1rem;
      border-radius: 8px;
      line-height: 1.4;
    }
    
    .output-line {
      margin: 0.2rem 0;
    }
    
    .error {
      color: #ff4444 !important;
    }
    
    .warning {
      color: #ffaa00 !important;
    }
    
    .success {
      color: #44ff44 !important;
    }
    
    .prompt {
      color: #00aaff;
    }
    
    .loading {
      animation: blink 1s infinite;
    }
    
    @keyframes blink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0; }
    }
    
    .status-bar {
      background: #1a1a1a;
      padding: 0.5rem 1rem;
      border-top: 1px solid #333;
      font-size: 0.9rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .status-item {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .status-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #00ff41;
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0% { opacity: 1; }
      50% { opacity: 0.5; }
      100% { opacity: 1; }
    }
    
    @media (max-width: 768px) {
      .container {
        flex-direction: column;
      }
      
      .left-panel, .right-panel {
        width: 100%;
      }
      
      .left-panel {
        height: 60%;
      }
      
      .right-panel {
        height: 40%;
      }
      
      .controls {
        flex-direction: column;
        align-items: stretch;
      }
      
      .button-group {
        justify-content: center;
      }
    }
        .navbar {
      display: flex;
      justify-content: space-between;
      padding: 1rem 2rem;
      background-color: #121212;
      border-bottom: 2px solid #00ff41;
    }
    .nav-logo, .nav-link {
      color: #00ff41;
      text-decoration: none;
      cursor: pointer;
      font-weight: bold;
      margin-right: 15px;
    }
    .nav-link:hover {
      text-decoration: underline;
    }
    .view {
      display: none;
      padding: 2rem;
    }
    .active {
      display: block;
    }
  </style>
</head>
<body>
  <header>

    <span>💻 SnehTech Terminal Code Editor</span>
  </header>
<nav class="navbar">
  <div class="nav-left">
    <a href="index.html" class="nav-logo">Home</a>
  </div>
  <div class="nav-right">
    <a href="login.html" class="nav-link">Sign In</a>
    <a href="login.html" class="nav-link">Sign Up</a>
  </div>
</nav>

  <div class="container">
    <div class="left-panel">
      <div class="controls">
        <select id="language">
          <option value="71">🐍 Python</option>
          <option value="63">🌐 JavaScript (Node.js)</option>
          <option value="62">☕ Java</option>
          <option value="54">⚡ C++</option>
          <option value="50">🔧 C</option>
          <option value="51">🔷 C#</option>
          <option value="78">🔗 Kotlin</option>
          <option value="72">💎 Ruby</option>
          <option value="73">🐹 Go</option>
          <option value="74">🦀 Rust</option>
        </select>
        <div class="button-group">
          <button id="run-btn" onclick="runCode()">▶️ Run</button>
          <button onclick="clearAll()">🧹 Clear</button>
          <button onclick="loadExample()">📝 Example</button>
        </div>
      </div>
      <div class="editor-container">
        <textarea id="editor">name = input("Enter your name: ")
age = input("Enter your age: ")
print(f"Hello {name}! You are {age} years old.")
print("Welcome to SnehTech Terminal!")</textarea>
      </div>
    </div>
    
    <div class="right-panel">
      <div class="terminal-section">
        <h3>Input</h3>
        <textarea id="input-area" placeholder="Enter input values (one per line)&#10;Example:&#10;John&#10;25"></textarea>
      </div>
      
      <div id="terminal-output">$ SnehTech Terminal Ready
> Waiting for code execution...</div>
      
      <div class="status-bar">
        <div class="status-item">
          <div class="status-dot"></div>
          <span>Terminal Ready</span>
        </div>
        <div class="status-item">
          <span id="lang-status">Python</span>
        </div>
      </div>
    </div>
  </div>

 <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/mode/python/python.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/mode/javascript/javascript.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/mode/clike/clike.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/mode/go/go.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/mode/rust/rust.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/mode/ruby/ruby.min.js"></script>
  <script>
    let editor;
    let currentExecution = null;
    
    // Initialize CodeMirror
    function initEditor() {
      editor = CodeMirror.fromTextArea(document.getElementById("editor"), {
        mode: "python",
        theme: "monokai",
        lineNumbers: true,
        autoCloseBrackets: true,
        matchBrackets: true,
        indentUnit: 4,
        tabSize: 4,
        lineWrapping: true,
        styleActiveLine: true,
        showCursorWhenSelecting: true
      });
    }
    
    // Language configurations
    const languages = {
      "71": { name: "Python", mode: "python", example: `name = input("Enter your name: ")\nage = input("Enter your age: ")\nprint(f"Hello {name}! You are {age} years old.")\nprint("Welcome to SnehTech Terminal!")` },
      "63": { name: "JavaScript", mode: "javascript", example: `const readline = require('readline');\nconst rl = readline.createInterface({\n  input: process.stdin,\n  output: process.stdout\n});\n\nrl.question('Enter your name: ', (name) => {\n  console.log(\`Hello \${name}!\`);\n  rl.close();\n});` },
      "62": { name: "Java", mode: "text/x-java", example: `import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        System.out.print("Enter your name: ");\n        String name = scanner.nextLine();\n        System.out.println("Hello " + name + "!");\n        scanner.close();\n    }\n}` },
      "54": { name: "C++", mode: "text/x-c++src", example: `#include <iostream>\n#include <string>\nusing namespace std;\n\nint main() {\n    string name;\n    cout << "Enter your name: ";\n    getline(cin, name);\n    cout << "Hello " << name << "!" << endl;\n    return 0;\n}` },
      "50": { name: "C", mode: "text/x-csrc", example: `#include <stdio.h>\n#include <string.h>\n\nint main() {\n    char name[100];\n    printf("Enter your name: ");\n    fgets(name, sizeof(name), stdin);\n    name[strcspn(name, "\\n")] = '\\0';\n    printf("Hello %s!\\n", name);\n    return 0;\n}` },
      "51": { name: "C#", mode: "text/x-csharp", example: `using System;\n\nclass Program {\n    static void Main() {\n        Console.Write("Enter your name: ");\n        string name = Console.ReadLine();\n        Console.WriteLine($"Hello {name}!");\n    }\n}` },
      "78": { name: "Kotlin", mode: "text/x-kotlin", example: `fun main() {\n    print("Enter your name: ")\n    val name = readLine()\n    println("Hello $name!")\n}` },
      "72": { name: "Ruby", mode: "ruby", example: `print "Enter your name: "\nname = gets.chomp\nputs "Hello #{name}!"` },
      "73": { name: "Go", mode: "go", example: `package main\n\nimport (\n    "fmt"\n)\n\nfunc main() {\n    var name string\n    fmt.Print("Enter your name: ")\n    fmt.Scanln(&name)\n    fmt.Printf("Hello %s!\\n", name)\n}` },
      "74": { name: "Rust", mode: "rust", example: `use std::io;\n\nfn main() {\n    println!("Enter your name: ");\n    let mut name = String::new();\n    io::stdin().read_line(&mut name).expect("Failed to read line");\n    let name = name.trim();\n    println!("Hello {}!", name);\n}` }
    };
    
    // Initialize everything when page loads
    document.addEventListener('DOMContentLoaded', function() {
      initEditor();
      
      // Language change handler
      document.getElementById("language").addEventListener("change", function() {
        const langId = this.value;
        const langConfig = languages[langId];
        
        if (langConfig) {
          editor.setOption("mode", langConfig.mode);
          document.getElementById("lang-status").textContent = langConfig.name;
          updateTerminal(`> Language changed to ${langConfig.name}`, 'prompt');
        }
      });
      
      // Keyboard shortcuts
      document.addEventListener('keydown', function(e) {
        if (e.ctrlKey && e.key === 'Enter') {
          e.preventDefault();
          runCode();
        } else if (e.ctrlKey && e.key === 'k') {
          e.preventDefault();
          clearAll();
        }
      });
    });
    
    function updateTerminal(message, type = 'normal') {
      const terminal = document.getElementById('terminal-output');
      const timestamp = new Date().toLocaleTimeString();
      const line = document.createElement('div');
      line.className = `output-line ${type}`;
      
      if (type === 'prompt') {
        line.innerHTML = `<span class="prompt">[${timestamp}]</span> ${message}`;
      } else if (type === 'error') {
        line.innerHTML = `<span class="error">[${timestamp}] ERROR:</span> ${message}`;
      } else if (type === 'success') {
        line.innerHTML = `<span class="success">[${timestamp}] SUCCESS:</span> ${message}`;
      } else if (type === 'warning') {
        line.innerHTML = `<span class="warning">[${timestamp}] WARNING:</span> ${message}`;
      } else {
        line.textContent = message;
      }
      
      terminal.appendChild(line);
      terminal.scrollTop = terminal.scrollHeight;
    }
    
    function clearTerminal() {
      const terminal = document.getElementById('terminal-output');
      terminal.innerHTML = '';
      updateTerminal('$ SnehTech Terminal Ready', 'prompt');
      updateTerminal('> Terminal cleared', 'prompt');
    }
    
    async function runCode() {
      const code = editor.getValue().trim();
      const langId = document.getElementById("language").value;
      const input = document.getElementById("input-area").value.trim();
      
      if (!code) {
        updateTerminal('No code to execute', 'warning');
        return;
      }
      
      // Clear terminal and show execution start
      clearTerminal();
      updateTerminal(`> Executing ${languages[langId].name} code...`, 'prompt');
      
      if (input) {
        updateTerminal(`> Input provided: ${input.split('\n').length} line(s)`, 'prompt');
      }
      
      const loadingMsg = document.createElement('div');
      loadingMsg.className = 'output-line loading';
      loadingMsg.textContent = '> Processing...';
      document.getElementById('terminal-output').appendChild(loadingMsg);
      
      try {
        const response = await fetch("https://judge0-ce.p.rapidapi.com/submissions?base64_encoded=false&wait=true", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "x-rapidapi-host": "judge0-ce.p.rapidapi.com",
            "x-rapidapi-key": "85afa02a56msh601ab8820692dd9p1da647jsnaf670ce64e09"
          },
          body: JSON.stringify({
            source_code: code,
            language_id: parseInt(langId),
            stdin: input
          })
        });
        
        loadingMsg.remove();
        
        if (!response.ok) {
          throw new Error(`HTTP ${response.status}: ${response.statusText}`);
        }
        
        const data = await response.json();
        
        // Display results
        if (data.stdout) {
          updateTerminal('> Program Output:', 'success');
          const outputLines = data.stdout.split('\n');
          outputLines.forEach(line => {
            const outputLine = document.createElement('div');
            outputLine.className = 'output-line';
            outputLine.textContent = line;
            document.getElementById('terminal-output').appendChild(outputLine);
          });
        }
        
        if (data.stderr) {
          updateTerminal('Runtime Error:', 'error');
          const errorLines = data.stderr.split('\n');
          errorLines.forEach(line => {
            if (line.trim()) {
              const errorLine = document.createElement('div');
              errorLine.className = 'output-line error';
              errorLine.textContent = line;
              document.getElementById('terminal-output').appendChild(errorLine);
            }
          });
        }
        
        if (data.compile_output) {
          updateTerminal('Compilation Error:', 'error');
          const compileLines = data.compile_output.split('\n');
          compileLines.forEach(line => {
            if (line.trim()) {
              const compileLine = document.createElement('div');
              compileLine.className = 'output-line error';
              compileLine.textContent = line;
              document.getElementById('terminal-output').appendChild(compileLine);
            }
          });
        }
        
        if (!data.stdout && !data.stderr && !data.compile_output) {
          updateTerminal('No output produced', 'warning');
        }
        
        // Show execution stats
        if (data.time) {
          updateTerminal(`> Execution time: ${data.time}s`, 'prompt');
        }
        if (data.memory) {
          updateTerminal(`> Memory used: ${data.memory} KB`, 'prompt');
        }
        
        updateTerminal('> Execution completed', 'success');
        
      } catch (error) {
        loadingMsg.remove();
        updateTerminal(`Network/API Error: ${error.message}`, 'error');
        updateTerminal('Please check your internet connection and try again', 'warning');
      }
    }
    
    function clearAll() {
      editor.setValue('');
      document.getElementById('input-area').value = '';
      clearTerminal();
      updateTerminal('> Editor and input cleared', 'prompt');
    }
    
    function loadExample() {
      const langId = document.getElementById("language").value;
      const langConfig = languages[langId];
      
      if (langConfig && langConfig.example) {
        editor.setValue(langConfig.example);
        updateTerminal(`> Loaded ${langConfig.name} example`, 'prompt');
        
        // Set appropriate input for the example
        if (langId === "71") { // Python
          document.getElementById('input-area').value = "John\n25";
        } else if (langId === "62") { // Java
          document.getElementById('input-area').value = "Alice";
        } else {
          document.getElementById('input-area').value = "Bob";
        }
      }
    }
  </script>
</body>
</html>